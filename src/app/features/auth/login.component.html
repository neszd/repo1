<div class="page">
  <div class="card" role="dialog" aria-labelledby="title">
    <div class="logo" aria-hidden="true">
      <svg viewBox="0 0 100 100" width="56" height="56">
        <defs>
          <linearGradient id="g" x1="0" x2="1">
            <stop offset="0" stop-color="#22d3ee"></stop>
            <stop offset="1" stop-color="#8b5cf6"></stop>
          </linearGradient>
        </defs>
        <path fill="url(#g)"
              d="M78 22c-6 9-13 16-22 21 7-10 7-18 6-23-18 1-32 11-40 32
                 6-5 12-7 18-5-6 5-10 11-12 18 6 3 12 2 18-2-2 6-2 12 0 18
                 18-2 30-12 34-33 3-9 2-17-2-26z"/>
      </svg>
    </div>

    <h1 id="title">¡Bienvenido!</h1>
    <p class="subtitle">Por favor ingrese sus credenciales</p>

    <form [formGroup]="f" (ngSubmit)="onSubmit()" novalidate>
      <!-- Username -->
      <label class="field">
        <span class="label">Username</span>
        <div class="input">
          <span class="icon" aria-hidden="true">
            <svg viewBox="0 0 24 24"><path
              d="M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5Zm0 2c-5 0-9 2.5-9 5.5V22h18v-2.5C21 16.5 17 14 12 14Z"/></svg>
          </span>
          <input type="text" placeholder="admin" formControlName="username" autocomplete="username" />
        </div>
        <small style="color:#ef4444" *ngIf="ux.hasError('required') && (ux.dirty || ux.touched)">El usuario es obligatorio.</small>
        <small style="color:#ef4444" *ngIf="ux.hasError('minlength') && (ux.dirty || ux.touched)">Mínimo 3 caracteres.</small>
      </label>

      <!-- Password -->
      <label class="field">
        <span class="label">Contraseña</span>
        <div class="input">
          <span class="icon" aria-hidden="true">
            <svg viewBox="0 0 24 24"><path
              d="M17 9h-1V7a4 4 0 0 0-8 0v2H7a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2Zm-6 8v-3h2v3Z"/></svg>
          </span>

          <input [type]="showPassword ? 'text' : 'password'" placeholder="••••••"
                 formControlName="password" autocomplete="current-password" />

          <button class="ghost" type="button" (click)="toggleShowPassword()" aria-label="Mostrar u ocultar contraseña">
            <svg *ngIf="!showPassword" viewBox="0 0 24 24"><path
              d="M12 5C7 5 2.7 8 1 12c1.7 4 6 7 11 7s9.3-3 11-7c-1.7-4-6-7-11-7Zm0 12a5 5 0 1 1 5-5 5 5 0 0 1-5 5Z"/></svg>
            <svg *ngIf="showPassword" viewBox="0 0 24 24"><path
              d="M2 5.3 3.3 4 20 20.7 18.7 22l-3-3a12.4 12.4 0 0 1-3.7.6c-5 0-9.3-3-11-7a12.7 12.7 0 0 1 4.7-5.5L2 5.3Zm8.1 3.7 5 5A5 5 0 0 0 10 12a5.2 5.2 0 0 0 .1-3ZM12 5c5 0 9.3 3 11 7a12.8 12.8 0 0 1-3.1 4.2l-1.5-1.5A10.4 10.4 0 0 0 21 12c-1.7-4-6-7-11-7Z"/></svg>
          </button>
        </div>
        <small style="color:#ef4444" *ngIf="pw.hasError('required') && (pw.dirty || pw.touched)">La contraseña es obligatoria.</small>
        <small style="color:#ef4444" *ngIf="pw.hasError('minlength') && (pw.dirty || pw.touched)">Mínimo 6 caracteres.</small>
      </label>

      <!-- Options -->
      <div class="row">
        <label class="remember">
          <input type="checkbox" formControlName="remember" />
          <span>Recuérdame</span>
        </label>

        <a class="link" routerLink="/forgot">¿Olvidaste la contraseña?</a>
      </div>

      <!-- Submit -->
      <button class="primary" type="submit" [disabled]="f.invalid || loading">
        <span *ngIf="!loading">Iniciar Sesión</span>
        <span *ngIf="loading" class="spinner" aria-hidden="true"></span>
      </button>
    </form>

    <p class="foot">
      ¿Aún no tienes una cuenta?
      <a class="link" routerLink="/register">Crear Cuenta</a>
    </p>
  </div>
</div>

//hola
